<!DOCTYPE html>
<html>
    <head>
        <title>Wish-corona!</title><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway:400,400i,700">
          <meta name="viewport" content="width=device-width, initial-scale=1">
          <link rel="stylesheet" href="main.css"></link>
    </head>
    <body>
    
    <div id="app">
        <div class="content">
        <h2>Wish corona!</h1>
        <p>Send your friends a smiling greeting message regarding covid19</p>
        
        <p>Made by abhi with coding</p>
  
  <button id="start" class="btn">yes,i'm in!</button>


    </div>
    </div>
    
 
        <div id="modal">
  <h1>Enter details below to proceed:</h1>
  <form>
    <div class="styled-input">
      <input id="sname" type="text" required />
      <label><svg width="24" height="24" viewBox="0 0 24 24"> <path d="M12,4A4,4 0 0,1 16,8A4,4 0 0,1 12,12A4,4 0 0,1 8,8A4,4 0 0,1 12,4M12,14C16.42,14 20,15.79 20,18V20H4V18C4,15.79 7.58,14 12,14Z" /> </svg> Your name</label>
      <span></span>
    </div>
    <div class="styled-input">
      <input id="name"  type="text" required />
      <label>you're friend's name</label>
      <span></span>
    </div>
    
    <div class="styled-input wide">
      <input id="message" required></input>
      <label><svg width="24" height="24" viewBox="0 0 24 24"> <path d="M4,4H20A2,2 0 0,1 22,6V18A2,2 0 0,1 20,20H4C2.89,20 2,19.1 2,18V6C2,4.89 2.89,4 4,4M12,11L20,6H4L12,11M4,18H20V8.37L12,13.36L4,8.37V18Z" /> </svg> Message</label>
      <span></span>
    </div>
  </form>
  <button id="send">Send!<svg width="30" margon-top="10px" fill="#fff" height="30" viewBox="0 0 24 24"> <path d="M12,8L10.67,8.09C9.81,7.07 7.4,4.5 5,4.5C5,4.5 3.03,7.46 4.96,11.41C4.41,12.24 4.07,12.67 4,13.66L2.07,13.95L2.28,14.93L4.04,14.67L4.18,15.38L2.61,16.32L3.08,17.21L4.53,16.32C5.68,18.76 8.59,20 12,20C15.41,20 18.32,18.76 19.47,16.32L20.92,17.21L21.39,16.32L19.82,15.38L19.96,14.67L21.72,14.93L21.93,13.95L20,13.66C19.93,12.67 19.59,12.24 19.04,11.41C20.97,7.46 19,4.5 19,4.5C16.6,4.5 14.19,7.07 13.33,8.09L12,8M9,11A1,1 0 0,1 10,12A1,1 0 0,1 9,13A1,1 0 0,1 8,12A1,1 0 0,1 9,11M15,11A1,1 0 0,1 16,12A1,1 0 0,1 15,13A1,1 0 0,1 14,12A1,1 0 0,1 15,11M11,14H13L12.3,15.39C12.5,16.03 13.06,16.5 13.75,16.5A1.5,1.5 0 0,0 15.25,15H15.75A2,2 0 0,1 13.75,17C13,17 12.35,16.59 12,16V16H12C11.65,16.59 11,17 10.25,17A2,2 0 0,1 8.25,15H8.75A1.5,1.5 0 0,0 10.25,16.5C10.94,16.5 11.5,16.03 11.7,15.39L11,14Z" /> </svg></button>
</div>
<div id="output">
    
    <p>Nice! <svg width="24" height="24" viewBox="0 0 24 24"> <path d="M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M11,16.5L18,9.5L16.59,8.09L11,13.67L7.91,10.59L6.5,12L11,16.5Z" /> </svg></p>
    
    <p>Just one step left!, copy & send this link to your friend &  don't forget to share this project.</p>
    
    <div id="tool">
        <input id="result"><svg fill="#fff" width="30" height="30" viewBox="0 0 24 24"> <path d="M7,8V6H5V19H19V6H17V8H7M9,4A3,3 0 0,1 12,1A3,3 0 0,1 15,4H19A2,2 0 0,1 21,6V19A2,2 0 0,1 19,21H5A2,2 0 0,1 3,19V6A2,2 0 0,1 5,4H9M12,3A1,1 0 0,0 11,4A1,1 0 0,0 12,5A1,1 0 0,0 13,4A1,1 0 0,0 12,3Z" /> </svg>
    </div>
    
    <p>---You can also visit by clicking below!-</p>
    <button><a id="link" href="">Visit!</a></button>
    
    
</div>



    </body>
    
    <script>
        $("#start").click(function () {
            
            $("#app").addClass("out");
          
            
            setTimeout(function me() {
              $("#app").hide();
            $("#modal").show();
            
            },3000);
            
            
        })
        
        
        $("#send").click(function () {
        
              $("#modal").hide();
           
            
            })
        
    </script>
    <script>
        
        

function random( length ) {
    
    var str = "";
    for ( ; str.length < length; str += Math.random().toString( 36 ).substr( 2 ) );
    return str.substr( 0, length );
}




$('#send').click(function () {

var a = $("#sname").val();

var s = $("#name").val();

var m = $("#message").val();



if (a,s,m === "") {
    
    alert("Please fill all the fields!")
} else {
     $("#output").show();
            $("#output").css({"display": "flex"});
    
var str = random( 6 );

var jsonUrl = 'https://www.jsonstore.io/bda97d062f76f1cc6b4933e0a65bf0d30a196a7390e3f98c02ca2d75d1e3480d/wishes/' + str;



  $.ajax({
    url: jsonUrl,
    data: JSON.stringify({'user':a,'name':s,'message':m}),
    type: 'PUT',
    contentType:"application/json; charset=utf-8",
    dataType: 'json',
    success: function (data) {
      
      console.log(data);
    }
  });
  
 $("#result").val("" +str);
 var target = "https://abhiprojectz.github.io/corona-wish/app.html/" + str;
 $("link").attr("href",  target);
  }


});
    </script>
    
</html>